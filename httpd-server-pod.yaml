apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: httpdserver
  labels: 
    k8s-app: http-caitlin
spec:
  template:
    metadata: 
      labels:
        k8s-app: http
    spec:
      hostNetwork: true
      nodeSelector: 
        kubernetes.io/hostname:  xcache-11.t2.ucsd.edu
      containers:
      - name: httpdserver
        image: cahung/kubernetes
        imagePullPolicy: Always
        command: ["sh", "-c", "sleep infinity"]
        volumeMounts: 
          - name: port-config
            mountPath: /etc/httpd/conf.d
      volumes:
        - name: port-config
          configMap: 
            name: portconfig 
          
